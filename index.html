<!doctype html>
<html lang="pl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Pokaz slajdÃ³w</title>
  <link rel="stylesheet" href="style.css?v=20250914163929" />
  <meta name="theme-color" content="#000000" />
</head>
<body>
  <!-- Panel startowy (peÅ‚ny ekran + dwa logotypy) -->
  <div id="fsPrompt" class="prompt">
    <div class="prompt-card">
      <h1>Pokaz slajdÃ³w</h1>
      <p>Aby oglÄ…daÄ‡ w trybie peÅ‚noekranowym i zapobiec wygaszaniu ekranu, kliknij przycisk.</p>
      <div class="prompt-actions">
        <button id="startBtn" class="btn-primary">Uruchom peÅ‚ny ekran</button>
        <button id="browseBtn" class="btn-ghost">PokaÅ¼ wszystkie pokazy</button>
      </div>
      <!-- Logo klienta w biaÅ‚ej ramce -->
      <div class="logo-frame">
        <img src="assets/logo.png?v=20250914163929" alt="Logo" class="brand-logo" />
      </div>
      <!-- Miejsce na logo fotografa -->
      <div class="logo-frame secondary">
        <img src="assets/photographer.png?v=20250914163929" alt="Logo fotografa" class="brand-logo" />
      </div>
      <p class="hint">Parametry linku: <code>?client=124&amp;show=7</code> â†’ foldery <code>000124/000007</code></p>
    </div>
  </div>

  <!-- Scena z workarea (ramkÄ… roboczÄ…) -->
  <main id="stage" class="stage" role="main" aria-label="Pokaz slajdÃ³w">
    <div id="workarea" class="workarea">
      <img id="slide" class="slide" alt="Slajd" />
    </div>

    <!-- HUD (pojawia siÄ™ po dotkniÄ™ciu) -->
    <div class="hud">
      <div class="left">
        <button id="prevBtn" aria-label="Poprzedni slajd">âŸ¨</button>
        <button id="playPauseBtn" aria-label="Pauza/Odtwarzaj">â¸</button>
        <button id="nextBtn" aria-label="NastÄ™pny slajd">âŸ©</button>
        <button id="settingsBtn" aria-label="Ustawienia">âš™ï¸ Ustawienia</button>
      </div>
      <div class="right">
        <button id="audioBtn" aria-label="Muzyka w tle">ğŸµ</button>
        <span id="counter">â€“ / â€“</span>
      </div>
    </div>
  </main>

  <!-- Ustawienia: margines + czas przeÅ‚Ä…czania + sortowanie -->
  <div id="settingsModal" class="modal hidden" aria-hidden="true" role="dialog" aria-label="Ustawienia wyÅ›wietlania">
    <div class="modal-card">
      <div class="modal-head">
        <h2>Ustawienia</h2>
        <button id="closeSettingsBtn" class="icon-btn" aria-label="Zamknij">âœ•</button>
      </div>

      <div class="grid">
        <div class="field">
          <label>Margines wokÃ³Å‚ roboczego ekranu</label>
          <input id="marginPct" type="range" min="0" max="20" step="1" value="5">
          <div class="hint"><span id="marginVal">5%</span></div>
          <small>Czarne obramowanie dookoÅ‚a â€workareaâ€.</small>
        </div>

        <div class="field">
          <label>Czas przeÅ‚Ä…czania slajdÃ³w (s)</label>
          <input id="intervalSec" type="number" min="1" max="60" step="1" value="5" />
          <small>Zmiana obowiÄ…zuje od razu po zapisaniu.</small>
        </div>

        <div class="field">
          <label>Sortuj wg</label>
          <div class="row">
            <select id="sortBy">
              <option value="name">Nazwy pliku</option>
              <option value="modified">Daty modyfikacji</option>
              <option value="random">Losowo</option>
            </select>
            <select id="sortDir">
              <option value="asc">RosnÄ…co</option>
              <option value="desc">MalejÄ…co</option>
            </select>
          </div>
          <small>Uwaga: sortowanie po dacie uÅ¼ywa nagÅ‚Ã³wka <code>Last-Modified</code> serwera.</small>
        </div>
      </div>

      <div class="modal-actions">
        <button id="saveSettingsBtn" class="btn-primary">Zapisz</button>
        <button id="resetSettingsBtn" class="btn-ghost">DomyÅ›lne</button>
      </div>

      <div class="preview">
        <div class="preview-stage small">
          <div id="previewFrame" class="preview-frame"></div>
        </div>
        <small>PodglÄ…d: biaÅ‚a ramka pokazuje â€workareaâ€.</small>
      </div>
    </div>
  </div>

  <!-- Katalog pokazÃ³w -->
  <div id="catalogModal" class="modal hidden" aria-hidden="true" role="dialog" aria-label="Wybierz pokaz">
    <div class="modal-card">
      <div class="modal-head">
        <h2>Wszystkie pokazy</h2>
        <button id="closeCatalogBtn" class="icon-btn" aria-label="Zamknij">âœ•</button>
      </div>
      <div id="catalogContent" class="catalog"></div>
      <div class="hint">Å¹rÃ³dÅ‚o: <code>albums/index.json</code>. Format przykÅ‚adowy w ZIP-ie.</div>
    </div>
  </div>

  <!-- Audio (znajdowane automatycznie w folderze pokazu) -->
  <audio id="bgAudio" loop></audio>

  <noscript>WÅ‚Ä…cz JavaScript, aby wyÅ›wietliÄ‡ pokaz slajdÃ³w.</noscript>
  <script src="app.js?v=20250914163929"></script>
</body>
</html>
